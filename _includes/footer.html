{% include svg-icons.html %}

<div class="footer-info">
  <!-- 当前时间 -->
  <div id="current-time">加载中...</div>

  <!-- 统计访问量 -->
  <div>
    蛸窝总访问量：<span id="busuanzi_value_site_pv" style="display: inline;">蠕动中...</span>
  </div>
</div>

{% if page.layout == "post" %}
  <div class="post-views">
    本篇点击次数：<span id="busuanzi_value_page_pv" style="display: inline;">乱爬中...</span>
  </div>
{% endif %}

<!-- 更新时间 JavaScript（兼容所有浏览器） -->
<script>
  function updateTime() {
    const now = new Date();
    const year = now.getFullYear();
    const month = String(now.getMonth() + 1).padStart(2, '0');
    const day = String(now.getDate()).padStart(2, '0');
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');
    document.getElementById("current-time").innerText = `当前时间：${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
  }
  setInterval(updateTime, 1000);
  updateTime();
</script>

<!-- 确保不蒜子统计 JS 正确加载 -->
<script>
  window.onload = function() {
    let script = document.createElement("script");
    script.src = "//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js";
    script.async = true;
    script.defer = true;
    document.body.appendChild(script);
  };
</script>

<!-- 确保统计数据能显示 -->
<style>
  #busuanzi_value_site_pv, #busuanzi_value_page_pv {
    display: inline !important;
    visibility: visible !important;
  }
</style>

{% if site.footer-text %}
<p>{{ site.footer-text }}</p>
{% endif %}
